def main():
    filename = "inventory.csv"
    products = load_products(filename)

    while True:
        choice = print_menu()
        if choice == 1:
            add_product(products)
        elif choice == 2:
            remove_product(products)
        elif choice == 3:
            edit_product(products)
        elif choice == 4:
            term = input("\nEnter search term (name or category): ")
            if term != "":
                results = search_product(products, term)
                if len(results) > 0:
                    print(f"\nSearch Results for '{term}':")
                    print_products(results)
                else:
                    print(f"No products found matching '{term}'.")
        elif choice == 5:
            sell_product(products)
        elif choice == 6:
            restock_product(products)
        elif choice == 7:
            low_stock_report(products)
        elif choice == 8:
            inventory_summary(products)
        elif choice == 9:
            list_products_by_category(products)
        elif choice == 10:
            print("\n--- All Products ---")
            print_products(products)
        elif choice == 11:
            save_products(filename, products)
            print("\nThank you for using Smart Inventory Management System!")
            break
        else:
            print("Invalid choice! Please select 1-11.")
